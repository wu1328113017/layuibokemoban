<!DOCTYPE html>
<html>
<head>
<style>body{padding:1.875rem;}</style><meta charset='UTF-8'>
</head>
<body><p style="text-align: justify;">引用地址:<a target="_blank" href="https://baijiahao.baidu.com/s?id=1621651597363566701&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1621651597363566701&amp;wfr=spider&amp;for=pc</a></p><p style="text-align: justify;"><span class="bjh-h3">springcloud<span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p">springcloud是微服务架构的集大成者，将一系列优秀的组件进行了整合。基于springboot构建，对我们熟悉spring的程序员来说，上手比较容易。</span></p><p style="text-align: justify;"><span class="bjh-p">通过一些简单的注解，我们就可以快速的在应用中配置一下常用模块并构建庞大的分布式系统。</span></p><p style="text-align: justify;"><span class="bjh-p">SpringCloud的组件相当繁杂，拥有诸多子项目。重点关注Netflix</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=835037166,3207950096&amp;fm=173&amp;app=49&amp;f=JPEG?w=640&amp;h=532&amp;s=D8AA3C72510A674D14611C460000E0B1" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">图片来源@王璐-Louise。我是画不出来这么美的图的。。。</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">springcloud的版本说明：</span></p><p style="text-align: justify;"><span class="bjh-p">springcloud项目是由多个独立项目集合而成的，每个项目都是独立的，各自进行自己的迭代和版本发布。所以springcloud不方便使用版本号来管理，而是使用版本名。以避免和子项目版本号的冲突。</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p">版本名的来源是伦敦的地铁站名，以字母排序。比如最早的Release版本为Angel，第二个Release版本为Brixton。。。</span></p><p style="text-align: justify;"><span class="bjh-p">当一个版本的update积累的比较多或者解决了一个严重bug时，会发布一个ServiceRelease版本，简称SR，后面带的数字就是该大版本下的第一次发布。</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=3158677771,3860569729&amp;fm=173&amp;app=49&amp;f=JPEG?w=640&amp;h=384&amp;s=0970E413118F654F5C7884D3000050B3" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">从官网上看，springcloud的F版本是基于springboot的2.0.x构建，之前的是基于springboot的1.5.x构建</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">下面只简单介绍下经常用的5个</span></p><p style="text-align: justify;"><span class="bjh-ul"><span class="bjh-li"><span class="bjh-p">服务发现——Netflix Eureka</span></span><span class="bjh-li"><span class="bjh-p">客服端负载均衡——Netflix Ribbon</span></span><span class="bjh-li"><span class="bjh-p">断路器——Netflix Hystrix</span></span><span class="bjh-li"><span class="bjh-p">服务网关——Netflix Zuul</span></span><span class="bjh-li"><span class="bjh-p">分布式配置——Spring Cloud Config</span></span></span><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">Eureka</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=804770436,275236063&amp;fm=173&amp;app=49&amp;f=JPEG?w=625&amp;h=363&amp;s=A4F8C032035749CA4AE129D90300A0B3" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">作用：实现服务治理（服务注册与发现）</span></p><p style="text-align: justify;"><span class="bjh-p">简介：Spring Cloud Eureka是Spring Cloud Netflix项目下的服务治理模块。</span></p><p style="text-align: justify;"><span class="bjh-p">由两个组件组成：Eureka服务端和Eureka客户端。</span></p><p style="text-align: justify;"><span class="bjh-p">Eureka服务端用作服务注册中心。支持集群部署。</span></p><p style="text-align: justify;"><span class="bjh-p">Eureka客户端是一个java客户端，用来处理服务注册与发现。</span></p><p style="text-align: justify;"><span class="bjh-p">在应用启动时，Eureka客户端向服务端注册自己的服务信息，同时将服务端的服务信息缓存到本地。客户端会和服务端周期性的进行心跳交互，以更新服务租约和服务信息。</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">Ribbon</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=1440756994,300152436&amp;fm=173&amp;app=49&amp;f=JPEG?w=640&amp;h=404&amp;s=8952E516175A55CA064CF1DE0300F0B2" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">作用：Ribbon，主要提供客户侧的软件负载均衡算法。</span></p><p style="text-align: justify;"><span class="bjh-p">简介：Spring Cloud Ribbon是一个基于HTTP和TCP的客户端负载均衡工具，它基于Netflix Ribbon实现。通过Spring Cloud的封装，可以让我们轻松地将面向服务的REST模版请求自动转换成客户端负载均衡的服务调用。</span></p><p style="text-align: justify;"><span class="bjh-p">注意看上图，关键点就是将外界的rest调用，根据负载均衡策略转换为微服务调用。Ribbon有比较多的负载均衡策略，以后专门讲解。</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">Hystrix</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss0.baidu.com/6ONWsjip0QIZ8tyhnq/it/u=1777007757,3850477758&amp;fm=173&amp;app=49&amp;f=JPEG?w=561&amp;h=535&amp;s=88227E32D532578A0A4D18D80200F0B0" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">作用：断路器，保护系统，控制故障范围。</span></p><p style="text-align: justify;"><span class="bjh-p">简介：为了保证其高可用，单个服务通常会集群部署。由于网络原因或者自身的原因，服务并不能保证100%可用，如果单个服务出现问题，调用这个服务就会出现线程阻塞，此时若有大量的请求涌入，Servlet容器的线程资源会被消耗完毕，导致服务瘫痪。服务与服务之间的依赖性，故障会传播，会对整个微服务系统造成灾难性的严重后果，这就是服务故障的“雪崩”效应。</span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-p"><span class="bjh-br"></span></span></p><p style="text-align: justify;"><span class="bjh-h3">Zuul</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss1.baidu.com/6ONXsjip0QIZ8tyhnq/it/u=4174549873,3621025584&amp;fm=173&amp;app=49&amp;f=JPEG?w=640&amp;h=356&amp;s=19843C7A95634509507C54DF0000C0B3" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">作用：api网关，路由，负载均衡等多种作用</span></p><p style="text-align: justify;"><span class="bjh-p">简介：类似nginx，反向代理的功能，不过netflix自己增加了一些配合其他组件的特性。</span></p><p style="text-align: justify;"><span class="bjh-p">在微服务架构中，后端服务往往不直接开放给调用端，而是通过一个API网关根据请求的url，路由到相应的服务。当添加API网关后，在第三方调用端和服务提供方之间就创建了一面墙，这面墙直接与调用方通信进行权限控制，后将请求均衡分发给后台服务端。</span></p><p style="text-align: justify;"><span class="bjh-h3">Config</span></p><div class="img-container"><img class="large" data-loadfunc="0" src="https://ss2.baidu.com/6ONYsjip0QIZ8tyhnq/it/u=1024635647,2230865972&amp;fm=173&amp;app=49&amp;f=JPEG?w=640&amp;h=540&amp;s=29A777324D0B454F104CC0D80000D0B2" data-loaded="0"></div><p style="text-align: justify;"><span class="bjh-p">作用：配置管理</span></p><p style="text-align: justify;"><span class="bjh-p">简介：SpringCloud Config提供服务器端和客户端。服务器存储后端的默认实现使用git，因此它轻松支持标签版本的配置环境，以及可以访问用于管理内容的各种工具。</span></p><p style="text-align: justify;"><span class="bjh-p">这个还是静态的，得配合Spring Cloud Bus实现动态的配置更新。</span></p></body>
</html>
